%YAML:1.0

#common parameters
imu: 1         
num_of_cam: 2  

imu_topic: "/mavros/imu/data"
image0_topic: "/stereo/left/image_raw"
image1_topic: "/stereo/right/image_raw"
output_path: "/tmp/vins_output/"

# Camera calibration files
cam0_calib: "cam0_pinhole.yaml"
cam1_calib: "cam1_pinhole.yaml"
image_width: 400
image_height: 400

# Extrinsic parameter between IMU and Camera.
# 0: Have an accurate extrinsic, don't change it
# 1: Have an initial guess, optimize around it
# 2: Don't know extrinsic, calibrate it
estimate_extrinsic: 2

# T_imu_cam0 (IMU to left camera) - initial guess
body_T_cam0: !!opencv-matrix
   rows: 4
   cols: 4
   dt: d
   data: [1, 0, 0, 0.1,
          0, 1, 0, 0.035,
          0, 0, 1, 0.0,
          0, 0, 0, 1]

# T_imu_cam1 (IMU to right camera) - initial guess
body_T_cam1: !!opencv-matrix
   rows: 4
   cols: 4
   dt: d
   data: [1, 0, 0, 0.1,
          0, 1, 0, -0.035,
          0, 0, 1, 0.0,
          0, 0, 0, 1]

# Multiple thread support
multiple_thread: 1

# Feature tracker parameters
max_cnt: 150
min_dist: 30
freq: 10
F_threshold: 1.0
show_track: 1
flow_back: 1

# Optimization parameters
max_solver_time: 0.04
max_num_iterations: 8
keyframe_parallax: 10.0

# IMU Parameters (from PX4/MAVROS)
acc_n: 0.08
gyr_n: 0.004
acc_w: 0.00004
gyr_w: 2.0e-6
g_norm: 9.81

# Loop closure
loop_closure: 1
fast_relocalization: 0
load_previous_pose_graph: 0

# Unsynchronization parameters
estimate_td: 0
td: 0.0

# Rolling shutter
rolling_shutter: 0
rolling_shutter_tr: 0

# Visualization
save_image: 0
visualize_imu_forward: 0
visualize_camera_size: 0.4
