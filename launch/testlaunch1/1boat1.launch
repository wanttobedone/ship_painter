<launch>
    <!-- 设置无人机型号 -->
    <env name="PX4_SIM_MODEL" value="iris" />
    
    <!-- 添加模型路径到Gazebo环境变量 -->
    <env name="GAZEBO_MODEL_PATH" value="$(find ship_painter)/models:$(optenv GAZEBO_MODEL_PATH)" />
    
    <!-- XTDrone 的 PX4 启动配置 -->
    <include file="/home/demo/PX4_Firmware/launch/indoor1.launch">
        <arg name="world" value="$(find ship_painter)/worlds/ship.world"/>
    </include>
    
    <!-- 生成船体模型 - 使用database方式 -->
    <node name="spawn_ship" pkg="gazebo_ros" type="spawn_model" 
          args="-sdf -database boat1 -model boat1 -x 5 -y 7.5 -z 0.25" 
          launch-prefix="bash -c 'sleep 5; $0 $@' "
          output="screen"/>
</launch>