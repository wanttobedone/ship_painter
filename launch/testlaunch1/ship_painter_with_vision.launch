<launch>
    <!-- 原有的启动内容 -->
    <include file="$(find ship_painter)/launch/boat1.launch"/>
    
    <!-- 启动视觉处理节点 -->
    <node name="visual_processor" pkg="ship_painter" type="visual_processor_node" output="screen">
        <param name="camera_topic" value="/iris_0/camera/image_raw"/>
        <param name="enable_visualization" value="true"/>
    </node>
    
    <!-- 启动ArUco检测 -->
    <node pkg="aruco_ros" type="single" name="aruco_single">
        <remap from="/camera_info" to="/iris_0/camera/camera_info"/>
        <remap from="/image" to="/iris_0/camera/image_raw"/>
        <param name="image_is_rectified" value="true"/>
        <param name="marker_size" value="0.15"/>
        <param name="marker_id" value="100"/>
        <param name="reference_frame" value="camera_link"/>
        <param name="camera_frame" value="camera_link"/>
    </node>
    
    <!-- 启动带视觉反馈的路径规划节点 -->
    <include file="$(find ship_painter)/launch/boat2.launch"/>
</launch>